---
layout:     post
title:      "中文拼写纠错"
date:       2022-08-08
author:     "hstk30"
header-img: "img/arrive.jpg"
tags:
    - 深度学习
--- 

# 中文拼写纠错

## 数据的收集

- 字形，需要有个常用字的字形字典
- 字音，需要有个常用字的字音字典，包括多音字
- 常用错词的语义，根据训练好的词向量计算相似度得到语义相似的错词
- 键盘键位
- 常用知识，实体识别一些专有名词


## 训练

- 一份大语料，一个基本的假设是这个大语料中的消息基本上没有错别字
- 一份易错字、词替换字典，可以根据字形、字音、字意构造


### 构造数据

- input: 随机替换一条消息中的某些字为对应的易错字
- target: 原消息
- loss: 对于被替换的位置上的分数计算一个loss

直接上`bert` 作为一个大分类(词表大小)任务 `硬train 一发👊`，


## 一些注意事项

- 训练时的采样问题，因为易错字的分布也是极其不均衡的，因此采样的时候应该平均一点
- 裁剪`bert` 词表，`bert` 词表大小2w，中文常用字3-4千，通用字7千，可以裁掉`bert` 里的各种日文韩文和英语词汇
- 分词直接按字力度分词即可
- 训练量比较大，`batch_size` 设不了很高，使用梯度累加更新效果应该会好一下

## 参考

[FASPell](https://aclanthology.org/D19-5522/)

